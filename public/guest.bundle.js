document.addEventListener("DOMContentLoaded",(async function(){let e=0,t=document.getElementById("posts_container");async function n(){try{const n=await fetch(`/timeline/guest?offset=${e}`,{method:"GET"}),o=await n.json();if("success"===o.status){let n=document.createElement("div");n.innerHTML=o.htmlString,t.appendChild(n),e+=20}else"error"===o.status&&alert(o.message)}catch(e){alert("エラーが発生しました")}}await n(),window.addEventListener("scroll",(function(){document.documentElement.scrollHeight-(window.scrollY||document.documentElement.scrollTop)<=window.innerHeight&&n()}))}));